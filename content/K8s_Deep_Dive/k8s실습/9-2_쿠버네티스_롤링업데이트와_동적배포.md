---
title: ì¿ ë²„ë„¤í‹°ìŠ¤ ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡¤ë§ ì—…ë°ì´íŠ¸ì™€ ë™ì  ë°°í¬
tags:
  - kubernetes
  - rolling-update
  - kustomize
  - helm
  - metallb
  - devops
  - deployment
aliases:
  - k8s-rolling-update
  - ë¡¤ë§ì—…ë°ì´íŠ¸
  - ë™ì ë°°í¬
date: 2025-11-28
category: K8s_Deep_Dive/ì‹¤ìŠµ
status: ì™„ì„±
priority: ë†’ìŒ
---

# ğŸ¯ ì¿ ë²„ë„¤í‹°ìŠ¤ ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡¤ë§ ì—…ë°ì´íŠ¸ì™€ ë™ì  ë°°í¬

## ğŸ“‘ ëª©ì°¨
- [[#1. ë¡¤ë§ ì—…ë°ì´íŠ¸ ê¸°ë³¸ ì›ë¦¬|ë¡¤ë§ ì—…ë°ì´íŠ¸ ê¸°ë³¸ ì›ë¦¬]]
- [[#2. kubectl setê³¼ rollout ëª…ë ¹ì–´|kubectl setê³¼ rollout ëª…ë ¹ì–´]]
- [[#3. Kustomize ë™ì  ë°°í¬|Kustomize ë™ì  ë°°í¬]]
- [[#4. Helmìœ¼ë¡œ ë” ì‰½ê²Œ ë°°í¬í•˜ê¸°|Helmìœ¼ë¡œ ë” ì‰½ê²Œ ë°°í¬í•˜ê¸°]]
- [[#ğŸ¯ ì‹¤ì „ kubectl ëª…ë ¹ì–´ ê°€ì´ë“œ|ì‹¤ì „ kubectl ëª…ë ¹ì–´ ê°€ì´ë“œ]]

---

## 1. ë¡¤ë§ ì—…ë°ì´íŠ¸ ê¸°ë³¸ ì›ë¦¬

> [!note] í•µì‹¬ ê°œë…
> ë¡¤ë§ ì—…ë°ì´íŠ¸ëŠ” Deployment ë¦¬ì†ŒìŠ¤ë¥¼ í†µí•´ ë¬´ì¤‘ë‹¨ ì„œë¹„ìŠ¤ ì—…ë°ì´íŠ¸ë¥¼ ì œê³µí•˜ëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ í•µì‹¬ ê¸°ëŠ¥ì…ë‹ˆë‹¤.

### ğŸ’¡ ì—…ë°ì´íŠ¸ í”„ë¡œì„¸ìŠ¤

**ğŸ¤” ì§ˆë¬¸**: "ê¸°ì¡´ Podë¥¼ í•œ ë²ˆì— êµì²´í•˜ì§€ ì•Šê³  ì–´ë–»ê²Œ ì ì§„ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸í• ê¹Œ?"

#### ğŸ“‹ êµ¬ì²´ì ì¸ ì‹œë‚˜ë¦¬ì˜¤

> [!example] ì‹¤ì œ ìƒí™©
> 1. **ë¬¸ì œ**: 3ê°œì˜ Pod v1.0ì´ ì‹¤í–‰ ì¤‘, v2.0ìœ¼ë¡œ ì—…ë°ì´íŠ¸ í•„ìš”
> 2. **ê°ì§€**: ìƒˆ ì´ë¯¸ì§€ íƒœê·¸ ì ìš© ì‹œ Deployment ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ìƒˆ ReplicaSet ìƒì„±
> 3. **ì¡°ì¹˜**: ìƒˆ Pod 1ê°œ ìƒì„± â†’ ì¤€ë¹„ ì™„ë£Œ â†’ êµ¬ Pod 1ê°œ ì¢…ë£Œ ë°˜ë³µ
> 4. **ê²°ê³¼**: ì„œë¹„ìŠ¤ ì¤‘ë‹¨ ì—†ì´ ëª¨ë“  Podê°€ ìƒˆ ë²„ì „ìœ¼ë¡œ êµì²´

#### ğŸ’» ì£¼ìš” ì„¤ì • íŒŒë¼ë¯¸í„°

```yaml
# ğŸ“Š ë¡¤ë§ ì—…ë°ì´íŠ¸ ìƒì„¸ ì„¤ì •
spec:
  strategy:
    type: RollingUpdate
    rollingUpdate:
      maxSurge: 25%          # ì›í•˜ëŠ” Pod ìˆ˜ ì´ˆê³¼ í—ˆìš© ë¹„ìœ¨
      maxUnavailable: 25%    # ì‚¬ìš© ë¶ˆê°€ Pod ìµœëŒ€ ë¹„ìœ¨
  minReadySeconds: 30        # ì¤€ë¹„ ìƒíƒœ ëŒ€ê¸° ì‹œê°„
  revisionHistoryLimit: 10   # ë¡¤ë°±ìš© íˆìŠ¤í† ë¦¬ ë³´ê´€ ìˆ˜
```

#### ğŸ“Š ìƒíƒœ í™•ì¸ ì˜µì…˜ ë¹„êµ

| ì„¤ì • | ì„¤ëª… | ê¶Œì¥ê°’ |
|------|------|--------|
| `maxSurge: 50%` | ë¹ ë¥¸ ë°°í¬ | ë¦¬ì†ŒìŠ¤ ì—¬ìœ ì‹œ |
| `maxUnavailable: 0` | ê³ ê°€ìš©ì„± ë³´ì¥ | ì¤‘ìš” ì„œë¹„ìŠ¤ |
| `minReadySeconds: 60` | ì•ˆì •ì„± ì¤‘ì‹œ | ë³µì¡í•œ ì•± |

---

## 2. kubectl setê³¼ rollout ëª…ë ¹ì–´

### ğŸ’¡ kubectl set ëª…ë ¹ì–´

#### ğŸ“‹ ì´ë¯¸ì§€ ì—…ë°ì´íŠ¸
```bash
# ì´ë¯¸ì§€ ë³€ê²½ (ì¦‰ì‹œ ë¡¤ë§ ì—…ë°ì´íŠ¸ ì‹œì‘)
kubectl set image deployment/myapp container-name=new-image:v2.0

# ì—¬ëŸ¬ ì»¨í…Œì´ë„ˆ ë™ì‹œ ì—…ë°ì´íŠ¸
kubectl set image deployment/myapp \
  frontend=myapp:v2.0 \
  backend=myapi:v1.5
```

#### ğŸ“‹ ë¦¬ì†ŒìŠ¤ ì œí•œ ì„¤ì •
```bash
# CPU/ë©”ëª¨ë¦¬ ì œí•œ ë³€ê²½
kubectl set resources deployment/myapp -c=container-name \
  --limits=cpu=200m,memory=512Mi \
  --requests=cpu=100m,memory=256Mi

# í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
kubectl set env deployment/myapp ENV_VAR=production
```

### ğŸ’¡ kubectl rollout ëª…ë ¹ì–´

#### ğŸ“‹ ìƒíƒœ í™•ì¸ ë° ì œì–´
```bash
# ë¡¤ì•„ì›ƒ ìƒíƒœ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
kubectl rollout status deployment/myapp

# ë°°í¬ íˆìŠ¤í† ë¦¬ í™•ì¸
kubectl rollout history deployment/myapp

# íŠ¹ì • ë¦¬ë¹„ì „ ìƒì„¸ ë³´ê¸°
kubectl rollout history deployment/myapp --revision=3

# ì´ì „ ë²„ì „ìœ¼ë¡œ ë¡¤ë°±
kubectl rollout undo deployment/myapp

# íŠ¹ì • ë¦¬ë¹„ì „ìœ¼ë¡œ ë¡¤ë°±
kubectl rollout undo deployment/myapp --to-revision=2
```

#### ğŸ“‹ ì¼ì‹œ ì¤‘ì§€ ë° ì¬ê°œ ì „ëµ
```bash
# 1. ë¡¤ì•„ì›ƒ ì¼ì‹œ ì¤‘ì§€
kubectl rollout pause deployment/myapp

# 2. ì—¬ëŸ¬ ë³€ê²½ì‚¬í•­ í•œ ë²ˆì— ì ìš©
kubectl set image deployment/myapp app=myapp:v2.0
kubectl set env deployment/myapp DB_HOST=new-database

# 3. ë¡¤ì•„ì›ƒ ì¬ê°œ (í•œ ë²ˆì— ë°°í¬)
kubectl rollout resume deployment/myapp

# 4. ì„¤ì • ë³€ê²½ ì—†ì´ ì¬ì‹œì‘
kubectl rollout restart deployment/myapp
```

---

## 3. Kustomize ë™ì  ë°°í¬

> [!note] í•µì‹¬ ê°œë…
> KustomizeëŠ” í…œí”Œë¦¿ ì—†ì´ ì¿ ë²„ë„¤í‹°ìŠ¤ ë§¤ë‹ˆí˜ìŠ¤íŠ¸ë¥¼ í™˜ê²½ë³„ë¡œ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•˜ëŠ” ë„êµ¬ì…ë‹ˆë‹¤.

### ğŸ’¡ Kustomize êµ¬ì¡° ì´í•´

#### ğŸ“‹ ë””ë ‰í† ë¦¬ êµ¬ì¡°
```
project/
â”œâ”€â”€ base/                          # ê³µí†µ ë² ì´ìŠ¤
â”‚   â”œâ”€â”€ deployment.yaml
â”‚   â”œâ”€â”€ service.yaml
â”‚   â”œâ”€â”€ metallb-namespace.yaml
â”‚   â””â”€â”€ kustomization.yaml
â”‚
â””â”€â”€ overlays/
    â”œâ”€â”€ dev/                       # ê°œë°œ í™˜ê²½
    â”‚   â””â”€â”€ kustomization.yaml    # v0.14.4, ë ˆí”Œë¦¬ì¹´: 1
    â”œâ”€â”€ staging/                   # ìŠ¤í…Œì´ì§• í™˜ê²½
    â”‚   â””â”€â”€ kustomization.yaml    # v0.14.5, ë ˆí”Œë¦¬ì¹´: 2
    â””â”€â”€ prod/                      # í”„ë¡œë•ì…˜ í™˜ê²½
        â””â”€â”€ kustomization.yaml    # v0.14.5, ë ˆí”Œë¦¬ì¹´: 5
```

#### ğŸ’» kustomization.yaml ì˜ˆì‹œ

```yaml
# ğŸ“Š base/kustomization.yaml
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
- metallb-namespace.yaml
- metallb-native-v0.14.4.yaml

images:
- name: quay.io/metallb/controller
  newTag: v0.14.5
- name: quay.io/metallb/speaker
  newTag: v0.14.5
```

```yaml
# ğŸ“Š overlays/prod/kustomization.yaml
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
- ../../base

patchesStrategicMerge:
- replica-count.yaml

images:
- name: quay.io/metallb/controller
  newTag: v0.14.6  # í”„ë¡œë•ì…˜ì€ ìµœì‹  ì•ˆì • ë²„ì „
```

### ğŸ’¡ CRDì™€ MetalLB ì´í•´

#### ğŸ“‹ CRD(Custom Resource Definition)ë€?

> [!example] ì‹¤ì œ ìƒí™©
> 1. **ë¬¸ì œ**: ì¿ ë²„ë„¤í‹°ìŠ¤ ê¸°ë³¸ ë¦¬ì†ŒìŠ¤(Pod, Service)ë¡œëŠ” ë¶€ì¡±
> 2. **í•´ê²°**: MetalLBê°€ IPAddressPool, L2Advertisement ê°™ì€ ì»¤ìŠ¤í…€ ë¦¬ì†ŒìŠ¤ ì •ì˜
> 3. **ê²°ê³¼**: "ì¿ ë²„ë„¤í‹°ìŠ¤ì•¼, IPAddressPool íƒ€ì…ë„ ì¸ì‹í•´ì¤˜" í™•ì¥

#### ğŸ“‹ MetalLBê°€ í•„ìš”í•œ ì´ìœ 
```bash
# âŒ ë² ì–´ë©”íƒˆ í™˜ê²½ì—ì„œ LoadBalancer íƒ€ì… ìƒì„± ì‹œ
kubectl expose deployment nginx --type=LoadBalancer
# â†’ EXTERNAL-IPê°€ <pending> ìƒíƒœë¡œ ë‚¨ìŒ

# âœ… MetalLB ì„¤ì¹˜ í›„
kubectl expose deployment nginx --type=LoadBalancer
# â†’ ì‹¤ì œ IP ì£¼ì†Œ í• ë‹¹ë¨ (ì˜ˆ: 192.168.1.100)
```

#### ğŸ“Š MetalLB ëª¨ë“œ ë¹„êµ

| ëª¨ë“œ | íŠ¹ì§• | ì‚¬ìš© ì‹œê¸° |
|------|------|----------|
| **Layer 2** | ARP ì‚¬ìš©, ë‹¨ìˆœ ì„¤ì • | ì†Œê·œëª¨, ë‹¨ì¼ ë…¸ë“œ íŠ¸ë˜í”½ |
| **BGP** | ë¼ìš°í„° ì—°ë™, ë¶„ì‚° ì²˜ë¦¬ | ëŒ€ê·œëª¨, ê³ ê°€ìš©ì„± í•„ìš” |

#### ğŸ’» ë™ì  ë°°í¬ ì›Œí¬í”Œë¡œìš°
```bash
# 1. kustomize ë¹Œë“œ ë° ë°°í¬
kustomize build overlays/dev | kubectl apply -f -

# 2. í”„ë¡œë•ì…˜ ë°°í¬
kustomize build overlays/prod | kubectl apply -f -

# 3. ì´ë¯¸ì§€ íƒœê·¸ë§Œ ë³€ê²½ìœ¼ë¡œ ì—…ë°ì´íŠ¸
# kustomization.yamlì—ì„œ newTag: v0.14.6ìœ¼ë¡œ ìˆ˜ì • í›„
kustomize build overlays/prod | kubectl apply -f -
```

---

## 4. Helmìœ¼ë¡œ ë” ì‰½ê²Œ ë°°í¬í•˜ê¸°

> [!note] í•µì‹¬ ê°œë…
> Helmì€ ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ "íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €"ë¡œ, ë³µì¡í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê°„ë‹¨í•œ ëª…ë ¹ì–´ë¡œ ì„¤ì¹˜í•˜ê³  ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ğŸ’¡ Helm vs Kustomize ë¹„êµ

#### ğŸ“Š íŠ¹ì§• ë¹„êµí‘œ

| êµ¬ë¶„ | Kustomize | Helm |
|------|-----------|------|
| **ì ‘ê·¼ë²•** | YAML íŒ¨ì¹˜ ë°©ì‹ | Go í…œí”Œë¦¿ ì—”ì§„ |
| **í•™ìŠµ ê³¡ì„ ** | ë‚®ìŒ | ì¤‘ê°„ |
| **í…œí”Œë¦¿** | ì—†ìŒ (ì˜¤ë²„ë ˆì´) | ìˆìŒ (ì¡°ê±´ë¬¸, ë°˜ë³µë¬¸) |
| **íŒ¨í‚¤ì§€ ê´€ë¦¬** | ì—†ìŒ | ìˆìŒ (Chart) |
| **ì»¤ë®¤ë‹ˆí‹°** | ì œí•œì  | í’ë¶€í•œ Chart ìƒíƒœê³„ |

### ğŸ’¡ Helm Chart êµ¬ì¡°

#### ğŸ“‹ Chart ë””ë ‰í† ë¦¬ êµ¬ì¡°
```
nginx-chart/
â”œâ”€â”€ Chart.yaml              # ì°¨íŠ¸ ì •ë³´ (ì´ë¦„, ë²„ì „)
â”œâ”€â”€ values.yaml             # ê¸°ë³¸ ì„¤ì •ê°’
â”œâ”€â”€ values-dev.yaml         # ê°œë°œ í™˜ê²½ ì„¤ì •
â”œâ”€â”€ values-prod.yaml        # í”„ë¡œë•ì…˜ í™˜ê²½ ì„¤ì •
â””â”€â”€ templates/              # ì¿ ë²„ë„¤í‹°ìŠ¤ ë§¤ë‹ˆí˜ìŠ¤íŠ¸ í…œí”Œë¦¿
    â”œâ”€â”€ deployment.yaml
    â”œâ”€â”€ service.yaml
    â”œâ”€â”€ ingress.yaml
    â””â”€â”€ _helpers.tpl        # ê³µí†µ í…œí”Œë¦¿ í•¨ìˆ˜
```

#### ğŸ’» values.yaml ì˜ˆì‹œ

```yaml
# ğŸ“Š ê¸°ë³¸ ì„¤ì •ê°’ ì •ì˜
replicaCount: 3

image:
  repository: nginx
  tag: "1.21.0"
  pullPolicy: IfNotPresent

service:
  type: LoadBalancer
  port: 80

ingress:
  enabled: false
  hosts:
    - host: nginx.example.com

resources:
  limits:
    cpu: 200m
    memory: 256Mi
  requests:
    cpu: 100m
    memory: 128Mi

autoscaling:
  enabled: false
  minReplicas: 1
  maxReplicas: 100
```

### ğŸ’¡ ì‹¤ì „ Helm ëª…ë ¹ì–´

#### ğŸ“‹ ì„¤ì¹˜ ë° ê´€ë¦¬
```bash
# Chart ì €ì¥ì†Œ ì¶”ê°€
helm repo add bitnami https://charts.bitnami.com/bitnami
helm repo add metallb https://metallb.github.io/metallb

# ì €ì¥ì†Œ ì—…ë°ì´íŠ¸
helm repo update

# Chart ê²€ìƒ‰
helm search repo nginx

# ì„¤ì¹˜
helm install my-nginx bitnami/nginx

# í™˜ê²½ë³„ ì„¤ì¹˜
helm install frontend ./frontend-chart -f values-prod.yaml
```

#### ğŸ“‹ ì—…ë°ì´íŠ¸ ë° ë¡¤ë°±
```bash
# ì—…ê·¸ë ˆì´ë“œ
helm upgrade my-nginx bitnami/nginx --set image.tag=1.22.0

# ì„¤ì • íŒŒì¼ë¡œ ì—…ê·¸ë ˆì´ë“œ
helm upgrade frontend ./frontend-chart -f values-prod-v2.yaml

# ë¡¤ë°±
helm rollback my-nginx 1

# ì„¤ì¹˜ëœ ë¦´ë¦¬ìŠ¤ í™•ì¸
helm list

# ë¦´ë¦¬ìŠ¤ ìƒíƒœ í™•ì¸
helm status my-nginx

# ì‚­ì œ
helm uninstall my-nginx
```

#### ğŸ“‹ MetalLB Helm ì„¤ì¹˜ ì˜ˆì‹œ
```bash
# MetalLB ì„¤ì¹˜
helm install metallb metallb/metallb \
  --set controller.image.tag=v0.14.5 \
  --set speaker.image.tag=v0.14.5 \
  --namespace metallb-system \
  --create-namespace

# ì—…ê·¸ë ˆì´ë“œ
helm upgrade metallb metallb/metallb \
  --set controller.image.tag=v0.14.6

# ì„¤ì • í™•ì¸
helm get values metallb
```

---

## ğŸ¯ ì‹¤ì „ kubectl ëª…ë ¹ì–´ ê°€ì´ë“œ

> [!tip] í•µì‹¬ í¬ì¸íŠ¸
> kubectlì´ ëª¨ë“  ë„êµ¬ì˜ ê¸°ë³¸ì…ë‹ˆë‹¤. Helmê³¼ Kustomizeë„ ê²°êµ­ kubectlì„ í˜¸ì¶œí•©ë‹ˆë‹¤.

### ğŸ’¡ ê°€ì¥ ë§ì´ ì‚¬ìš©í•˜ëŠ” ëª…ë ¹ì–´

#### ğŸ“‹ ì¡°íšŒ ê³„ì—´
```bash
# Pod ëª©ë¡ (ê°€ì¥ ê¸°ë³¸)
kubectl get pods
kubectl get pods -n metallb-system    # íŠ¹ì • ë„¤ì„ìŠ¤í˜ì´ìŠ¤
kubectl get pods -A                   # ëª¨ë“  ë„¤ì„ìŠ¤í˜ì´ìŠ¤

# ìì„¸í•œ ì •ë³´
kubectl describe pod my-pod-name

# ì‹¤ì‹œê°„ ë¡œê·¸ (ë””ë²„ê¹… í•„ìˆ˜!)
kubectl logs my-pod-name
kubectl logs -f my-pod-name           # ì‹¤ì‹œê°„ íŒ”ë¡œìš°
kubectl logs my-pod-name --previous   # ì´ì „ ì»¨í…Œì´ë„ˆ ë¡œê·¸

# ì „ì²´ ë¦¬ì†ŒìŠ¤ í™•ì¸
kubectl get all
kubectl get deployments,services,pods
```

#### ğŸ“‹ ë””ë²„ê¹… ê³„ì—´ (ë§¤ìš° ì¤‘ìš”!)
```bash
# Pod ì•ˆì— ì§ì ‘ ì ‘ì†
kubectl exec -it my-pod -- /bin/bash

# í¬íŠ¸ í¬ì›Œë”© (ë¡œì»¬ì—ì„œ í…ŒìŠ¤íŠ¸)
kubectl port-forward pod/my-pod 8080:80
kubectl port-forward svc/my-service 3000:80

# ì´ë²¤íŠ¸ í™•ì¸ (ë¬¸ì œ ë°œìƒ ì‹œ í•„ìˆ˜)
kubectl get events --sort-by='.lastTimestamp'

# ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ í™•ì¸
kubectl top pods
kubectl top nodes
```

#### ğŸ“‹ ë°°í¬ ë° ì—…ë°ì´íŠ¸
```bash
# YAMLë¡œ ë°°í¬
kubectl apply -f deployment.yaml

# ì§ì ‘ ìƒì„±
kubectl create deployment nginx --image=nginx:1.21

# ì´ë¯¸ì§€ ë³€ê²½ (ë¡¤ë§ ì—…ë°ì´íŠ¸ ì‹œì‘)
kubectl set image deployment/myapp container=nginx:1.22

# ìŠ¤ì¼€ì¼ ì¡°ì •
kubectl scale deployment myapp --replicas=5

# í™˜ê²½ë³€ìˆ˜ ë³€ê²½
kubectl set env deployment/myapp DB_HOST=new-host
```

### ğŸ’¡ ë””ë²„ê¹… ì‹œë‚˜ë¦¬ì˜¤ë³„ ì ‘ê·¼ë²•

#### ğŸ“‹ Podê°€ ì•ˆ ëœ° ë•Œ
```bash
# 1ë‹¨ê³„: ìƒíƒœ í™•ì¸
kubectl get pods

# 2ë‹¨ê³„: ìƒì„¸ ì •ë³´ (ì´ë¯¸ì§€ ë¬¸ì œ, ë¦¬ì†ŒìŠ¤ ë¶€ì¡± ë“± í™•ì¸)
kubectl describe pod problematic-pod

# 3ë‹¨ê³„: ë¡œê·¸ í™•ì¸
kubectl logs problematic-pod

# 4ë‹¨ê³„: ì´ë²¤íŠ¸ í™•ì¸
kubectl get events --field-selector involvedObject.name=problematic-pod
```

#### ğŸ“‹ ì„œë¹„ìŠ¤ ì—°ê²° ì•ˆ ë  ë•Œ
```bash
# Service í™•ì¸
kubectl get svc

# Endpoint í™•ì¸ (Podì™€ Service ì—°ê²° ìƒíƒœ)
kubectl get endpoints

# Pod ë‚´ë¶€ì—ì„œ ì§ì ‘ í…ŒìŠ¤íŠ¸
kubectl exec -it test-pod -- curl my-service:80

# DNS í™•ì¸
kubectl exec -it test-pod -- nslookup my-service
```

### ğŸ’¡ ìœ ìš©í•œ ì˜µì…˜ê³¼ ë‹¨ì¶•ì–´

#### ğŸ“‹ ìì£¼ ì“°ëŠ” ì˜µì…˜
```bash
# ë” ë§ì€ ì •ë³´ í‘œì‹œ
kubectl get pods -o wide

# YAML í˜•ì‹ìœ¼ë¡œ ì¶œë ¥
kubectl get pod my-pod -o yaml

# JSON í˜•ì‹ìœ¼ë¡œ ì¶œë ¥
kubectl get pod my-pod -o json

# ì‹¤ì‹œê°„ ê°ì‹œ
kubectl get pods -w

# ì‹¤ì œ ì‹¤í–‰ ì•ˆ í•˜ê³  í™•ì¸ë§Œ
kubectl apply -f deployment.yaml --dry-run=client

# ë ˆì´ë¸”ë¡œ ì„ íƒ
kubectl get pods -l app=nginx
```

#### ğŸ“‹ ë‹¨ì¶•ì–´ í™œìš©
```bash
# ë¦¬ì†ŒìŠ¤ íƒ€ì… ë‹¨ì¶•ì–´
po = pods
svc = services
deploy = deployments
ns = namespaces
cm = configmaps
pv = persistentvolumes
pvc = persistentvolumeclaims

# ì˜ˆì‹œ ì‚¬ìš©
kubectl get po
kubectl describe svc nginx
kubectl delete deploy myapp
```

#### ğŸ“‹ alias ì„¤ì • (ìƒì‚°ì„± í–¥ìƒ)
```bash
# ~/.bashrc ë˜ëŠ” ~/.zshrcì— ì¶”ê°€
alias k=kubectl
alias kgp='kubectl get pods'
alias kgs='kubectl get services'
alias kd='kubectl describe'
alias kl='kubectl logs'
alias kex='kubectl exec -it'

# ì‚¬ìš© ì˜ˆì‹œ
k get po
kgp -n dev
kl my-pod -f
kex my-pod -- /bin/bash
```

### ğŸ’¡ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì™€ ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬

#### ğŸ“‹ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ê´€ë¦¬
```bash
# ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ìƒì„±
kubectl create namespace dev

# ê¸°ë³¸ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ë³€ê²½
kubectl config set-context --current --namespace=dev

# í˜„ì¬ ì„¤ì • í™•ì¸
kubectl config view --minify

# ëª¨ë“  ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ë¦¬ì†ŒìŠ¤ ì¡°íšŒ
kubectl get pods --all-namespaces
# ë˜ëŠ”
kubectl get pods -A
```

#### ğŸ“‹ ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬ (ì—¬ëŸ¬ í´ëŸ¬ìŠ¤í„°)
```bash
# í˜„ì¬ ì»¨í…ìŠ¤íŠ¸ í™•ì¸
kubectl config current-context

# ì»¨í…ìŠ¤íŠ¸ ëª©ë¡
kubectl config get-contexts

# ì»¨í…ìŠ¤íŠ¸ ë³€ê²½
kubectl config use-context prod-cluster

# ìƒˆ ì»¨í…ìŠ¤íŠ¸ ìƒì„±
kubectl config set-context dev --namespace=dev --cluster=minikube --user=minikube
```

> [!tip] í•™ìŠµ ìˆœì„œ ì¶”ì²œ
> 1. **ê¸°ë³¸ ì¡°íšŒ**: `get`, `describe`, `logs`
> 2. **ë°°í¬**: `apply`, `create`, `delete`  
> 3. **ë””ë²„ê¹…**: `exec`, `port-forward`, `events`
> 4. **ì—…ë°ì´íŠ¸**: `set`, `scale`, `rollout`
> 5. **ê³ ê¸‰**: `patch`, `label`, `annotate`

> [!warning] ì¤‘ìš”ì‚¬í•­
> kubectlì„ ë§ˆìŠ¤í„°í•˜ë©´ Helm, KustomizeëŠ” í¸ì˜ ë„êµ¬ë¡œ ëŠê»´ì§‘ë‹ˆë‹¤. ì‹¤ë¬´ì—ì„œëŠ” kubectlë¡œ ë¬¸ì œë¥¼ ì§„ë‹¨í•˜ê³  í•´ê²°í•˜ëŠ” ì‹œê°„ì´ ê°€ì¥ ë§ìŠµë‹ˆë‹¤!

---

## ğŸ“š ì°¸ê³ ìë£Œ

- [Kubernetes Rolling Updates ê³µì‹ ë¬¸ì„œ](https://kubernetes.io/docs/concepts/workloads/controllers/deployment/#rolling-update-deployment)
- [Kustomize ê³µì‹ ê°€ì´ë“œ](https://kustomize.io/)
- [Helm ê³µì‹ ë¬¸ì„œ](https://helm.sh/docs/)
- [MetalLB ì„¤ì¹˜ ê°€ì´ë“œ](https://metallb.universe.tf/installation/)