---
title: ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„° ê¶Œí•œ ê´€ë¦¬ ê°€ì´ë“œ - IAM, RBAC, Context ì „í™˜ì˜ í•µì‹¬
tags:
  - kubernetes
  - iam
  - rbac
  - context
  - security
  - devops
  - infrastructure
aliases:
  - k8sê¶Œí•œê´€ë¦¬
  - ì¿ ë²„ë„¤í‹°ìŠ¤ë³´ì•ˆ
  - ì»¨í…ìŠ¤íŠ¸ì „í™˜
date: 2025-11-24
category: k8sì‹¤ìŠµ/ì¿ ë²„ë„¤í‹°ìŠ¤
status: ì™„ì„±
priority: ë†’ìŒ
---

# ğŸ¯ ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„° ê¶Œí•œ ê´€ë¦¬ ê°€ì´ë“œ - IAM, RBAC, Context ì „í™˜ì˜ í•µì‹¬

## ğŸ“‘ ëª©ì°¨
- [[#1. ë¡œì»¬ vs í´ë¼ìš°ë“œ í™˜ê²½ì˜ ê·¹ëª…í•œ ì°¨ì´ì |í™˜ê²½ë³„ ì°¨ì´ì ]]
- [[#2. ë¡œì»¬ ë©€í‹° í´ëŸ¬ìŠ¤í„° í™˜ê²½ êµ¬ì¶•í•˜ê¸°|ë¡œì»¬ ë©€í‹° í´ëŸ¬ìŠ¤í„°]]
- [[#3. í´ë¼ìš°ë“œ IAMê³¼ ì¿ ë²„ë„¤í‹°ìŠ¤ RBAC í†µí•© ì´í•´|IAMê³¼ RBAC]]
- [[#4. ì»¨í…ìŠ¤íŠ¸ ì „í™˜: ì™œ í•„ìˆ˜ì ì¸ê°€?|ì»¨í…ìŠ¤íŠ¸ ì „í™˜ì˜ í•„ìˆ˜ì„±]]
- [[#5. ì‹¤ì œ í´ë¼ìš°ë“œ í™˜ê²½ì—ì„œ ë†“ì¹˜ê¸° ì‰¬ìš´ ì°¨ì´ì ë“¤|í´ë¼ìš°ë“œ í˜„ì‹¤]]
- [[#ğŸ¯ ì‹¤ì „ ë³´ì•ˆ ì‹œë‚˜ë¦¬ì˜¤|ì‹¤ì „ ë³´ì•ˆ ì‹œë‚˜ë¦¬ì˜¤]]

---

## 1. ë¡œì»¬ vs í´ë¼ìš°ë“œ í™˜ê²½ì˜ ê·¹ëª…í•œ ì°¨ì´ì 

> [!note] í•µì‹¬ ê°œë…
> ë¡œì»¬ ê°œë°œ í™˜ê²½ê³¼ í´ë¼ìš°ë“œ í™˜ê²½ì€ ê¶Œí•œ ê´€ë¦¬ ë°©ì‹ì´ ì™„ì „íˆ ë‹¤ë¦…ë‹ˆë‹¤. ì´ ì°¨ì´ì ì„ ì´í•´í•˜ì§€ ëª»í•˜ë©´ í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ì‹¬ê°í•œ ë³´ì•ˆ ì‚¬ê³ ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ğŸ  ë¡œì»¬ í™˜ê²½ (minikube, kind, Docker Desktop)

**ğŸ¤” ì§ˆë¬¸**: "ë‚´ ë…¸íŠ¸ë¶ì—ì„œëŠ” ëª¨ë“  ê²Œ ì˜ ë˜ëŠ”ë°, í´ë¼ìš°ë“œì—ì„œëŠ” ì™œ ì•ˆ ë ê¹Œ?"

#### ğŸ“‹ ë¡œì»¬ í™˜ê²½ì˜ íŠ¹ì§•ê³¼ í•¨ì •

> [!example] ë¡œì»¬ ê°œë°œ ì‹œ ì¼ë°˜ì ì¸ ìƒí™©
> 1. **ì „ëŠ¥í•œ ê¶Œí•œ**: ë¡œì»¬ì—ì„œëŠ” ë³´í†µ cluster-admin ê¶Œí•œìœ¼ë¡œ ì‘ì—…
> 2. **ë‹¨ìˆœí•œ ì¸ì¦**: kubeconfig íŒŒì¼ í•˜ë‚˜ë¡œ ëª¨ë“  ê²ƒ í•´ê²°
> 3. **ë³´ì•ˆ ê³ ë ¤ ë¶€ì¡±**: "ë‚´ ì»´í“¨í„°ë‹ˆê¹Œ ê´œì°®ê² ì§€"ë¼ëŠ” ìƒê°
> 4. **í˜„ì‹¤ê³¼ì˜ ê´´ë¦¬**: í´ë¼ìš°ë“œ ë°°í¬ ì‹œ ê¶Œí•œ ì˜¤ë¥˜ í­ë°œ

#### ğŸ’» ë¡œì»¬ í™˜ê²½ ê¶Œí•œ í™•ì¸

```bash
# ğŸ“Š ë¡œì»¬ í™˜ê²½ì—ì„œì˜ ê¶Œí•œ í™•ì¸
# minikube
kubectl auth can-i "*" "*"
# ê²°ê³¼: yes (ë³´í†µ cluster-admin ê¶Œí•œ)

# í˜„ì¬ ì‚¬ìš©ì í™•ì¸
kubectl config view --minify -o jsonpath='{.users[0].name}'
# ê²°ê³¼: minikube (ë˜ëŠ” docker-desktop)

# ëª¨ë“  ê¶Œí•œ í™•ì¸
kubectl auth can-i --list
# ê²°ê³¼: ê±°ì˜ ëª¨ë“  ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ ëª¨ë“  ë™ì‘ ê°€ëŠ¥
```

#### ğŸ“Š ë¡œì»¬ í™˜ê²½ë³„ ê¶Œí•œ ë¹„êµ

| ë„êµ¬ | ê¸°ë³¸ ê¶Œí•œ | ì¸ì¦ ë°©ì‹ | ë³´ì•ˆ ìˆ˜ì¤€ |
|------|-----------|----------|----------|
| **minikube** | cluster-admin | í´ë¼ì´ì–¸íŠ¸ ì¸ì¦ì„œ | ë§¤ìš° ë‚®ìŒ |
| **Docker Desktop** | cluster-admin | ë‚´ì¥ ì¸ì¦ | ë§¤ìš° ë‚®ìŒ |
| **kind** | cluster-admin | kubeconfig | ë§¤ìš° ë‚®ìŒ |
| **k3s** | cluster-admin | í† í° ê¸°ë°˜ | ë‚®ìŒ |

### â˜ï¸ í´ë¼ìš°ë“œ í™˜ê²½ (AWS EKS, GCP GKE, Azure AKS)

**ğŸ¤” ì§ˆë¬¸**: "í´ë¼ìš°ë“œì—ì„œëŠ” ì™œ ì´ë ‡ê²Œ ë³µì¡í•˜ê³  ì—„ê²©í• ê¹Œ?"

#### ğŸ“‹ í´ë¼ìš°ë“œ í™˜ê²½ì˜ í˜„ì‹¤ì  ì œì•½

> [!example] í´ë¼ìš°ë“œ ì²« ë°°í¬ ì‹œ ê²ªëŠ” ì¼
> 1. **IAM ì¸ì¦ í•„ìš”**: AWS/GCP/Azure ê³„ì • ì¸ì¦ ë¨¼ì € í•„ìš”
> 2. **ë‹¤ì¸µ ê¶Œí•œ êµ¬ì¡°**: í´ë¼ìš°ë“œ IAM + ì¿ ë²„ë„¤í‹°ìŠ¤ RBAC
> 3. **ë„¤íŠ¸ì›Œí¬ ì œí•œ**: VPC, ì„œë¸Œë„·, ë³´ì•ˆ ê·¸ë£¹ ì„¤ì • í•„ìš”
> 4. **ë¹„ìš© ê³ ë ¤**: ì˜ëª»ëœ ì„¤ì •ìœ¼ë¡œ ì¸í•œ ì˜ˆìƒì¹˜ ëª»í•œ ê³¼ê¸ˆ

#### ğŸ’» í´ë¼ìš°ë“œë³„ ì¸ì¦ ê³¼ì •

```bash
# ğŸ“Š AWS EKS ì ‘ê·¼ ê³¼ì •
# 1. AWS CLI ì¸ì¦
aws configure
aws sts get-caller-identity

# 2. EKS í´ëŸ¬ìŠ¤í„° ì¸ì¦ ì •ë³´ ì—…ë°ì´íŠ¸
aws eks update-kubeconfig --region us-west-2 --name my-cluster

# 3. ê¶Œí•œ í™•ì¸ (ì²˜ìŒì—” ê±°ì˜ ì•„ë¬´ê²ƒë„ ëª»í•¨)
kubectl auth can-i get pods
# ê²°ê³¼: no (ê¸°ë³¸ì ìœ¼ë¡œ ê¶Œí•œ ì—†ìŒ)

# 4. aws-auth ConfigMapì— ì‚¬ìš©ì ì¶”ê°€ í•„ìš”
kubectl get configmap aws-auth -n kube-system -o yaml
```

```bash
# ğŸ“Š GCP GKE ì ‘ê·¼ ê³¼ì •
# 1. gcloud ì¸ì¦
gcloud auth login
gcloud config set project my-project

# 2. GKE í´ëŸ¬ìŠ¤í„° ì¸ì¦ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
gcloud container clusters get-credentials my-cluster \
  --zone us-central1-a

# 3. ê¶Œí•œ í™•ì¸
kubectl auth can-i get pods
# ê²°ê³¼: depends on IAM roles

# 4. RBAC ì„¤ì • í•„ìš”
kubectl create clusterrolebinding my-binding \
  --clusterrole=view \
  --user=$(gcloud config get-value account)
```

#### ğŸ“Š ë¡œì»¬ vs í´ë¼ìš°ë“œ ë¹„êµí‘œ

| êµ¬ë¶„ | ë¡œì»¬ í™˜ê²½ | í´ë¼ìš°ë“œ í™˜ê²½ |
|------|-----------|---------------|
| **ì¸ì¦** | ë‹¨ìˆœ (kubeconfigë§Œ) | ë³µí•© (í´ë¼ìš°ë“œ IAM + k8s RBAC) |
| **ê¶Œí•œ** | ì „ì²´ ê¶Œí•œ (cluster-admin) | ìµœì†Œ ê¶Œí•œ ì›ì¹™ |
| **ë„¤íŠ¸ì›Œí¬** | localhost | VPC, ë°©í™”ë²½, ë¡œë“œë°¸ëŸ°ì„œ |
| **ë¹„ìš©** | ë¬´ë£Œ | ì‹œê°„ë‹¹ ê³¼ê¸ˆ |
| **ë³´ì•ˆ** | ê°œì¸ ì»´í“¨í„° ìˆ˜ì¤€ | ì—”í„°í”„ë¼ì´ì¦ˆ ìˆ˜ì¤€ |
| **ë³µì¡ë„** | ë§¤ìš° ë‹¨ìˆœ | ë†’ìŒ |

---

## 2. í´ë¼ìš°ë“œ IAM: ì²« ë²ˆì§¸ ë³´ì•ˆ ê´€ë¬¸

> [!note] í•µì‹¬ ê°œë…
> í´ë¼ìš°ë“œ IAMì€ ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ì— ì ‘ê·¼í•˜ê¸° ì „ ì²« ë²ˆì§¸ ë³´ì•ˆ ê³„ì¸µìœ¼ë¡œ, "ëˆ„ê°€ í´ëŸ¬ìŠ¤í„°ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ”ê°€?"ë¥¼ ê²°ì •í•©ë‹ˆë‹¤.

### ğŸ” IAMì˜ ì—­í• ê³¼ ì¤‘ìš”ì„±

**ğŸ¤” ì§ˆë¬¸**: "íšŒì‚¬ ê±´ë¬¼ì— ë“¤ì–´ê°€ë ¤ë©´ ì¶œì…ì¹´ë“œê°€ í•„ìš”í•œë°, ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ”?"

#### ğŸ“‹ IAM ì¸ì¦ ê³¼ì • ì‹œë‚˜ë¦¬ì˜¤

> [!example] EKS í´ëŸ¬ìŠ¤í„° ì ‘ê·¼ ê³¼ì •
> 1. **AWS IAM ì¸ì¦**: ê°œë°œìê°€ AWS ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸
> 2. **ì—­í•  í™•ì¸**: eks:DescribeCluster ê¶Œí•œì´ ìˆëŠ”ì§€ í™•ì¸
> 3. **í´ëŸ¬ìŠ¤í„° ì ‘ê·¼**: IAM ì¸ì¦ ì„±ê³µ í›„ kubectl ëª…ë ¹ ê°€ëŠ¥
> 4. **ì¶”ê°€ ì¸ì¦**: í´ëŸ¬ìŠ¤í„° ë‚´ë¶€ì—ì„œ RBACë¡œ ì„¸ë¶€ ê¶Œí•œ ì œì–´

#### ğŸ’» ì‹¤ì œ IAM ì„¤ì • ì˜ˆì‹œ

```bash
# ğŸ“Š AWS EKS í´ëŸ¬ìŠ¤í„° ì ‘ê·¼ ê¶Œí•œ ì„¤ì •
aws iam create-policy \
  --policy-name EKSClusterAccess \
  --policy-document '{
    "Version": "2012-10-17",
    "Statement": [
      {
        "Effect": "Allow",
        "Action": [
          "eks:DescribeCluster",
          "eks:ListClusters"
        ],
        "Resource": "*"
      }
    ]
  }'

# ì‚¬ìš©ìì—ê²Œ ì •ì±… ì—°ê²°
aws iam attach-user-policy \
  --user-name developer \
  --policy-arn arn:aws:iam::123456789:policy/EKSClusterAccess
```

#### ğŸ“Š í´ë¼ìš°ë“œë³„ IAM ë¹„êµ

| í´ë¼ìš°ë“œ | IAM ì„œë¹„ìŠ¤ | ì¿ ë²„ë„¤í‹°ìŠ¤ í†µí•© | ì£¼ìš” ê¶Œí•œ |
|----------|------------|-----------------|-----------|
| **AWS** | AWS IAM | EKS | eks:DescribeCluster |
| **GCP** | Google Cloud IAM | GKE | container.clusters.get |
| **Azure** | Azure AD | AKS | Microsoft.ContainerService/read |

#### âš ï¸ IAM ë³´ì•ˆ ì£¼ì˜ì‚¬í•­

> [!warning] ì¼ë°˜ì ì¸ IAM ì‹¤ìˆ˜
> - **ê³¼ë„í•œ ê¶Œí•œ**: ê°œë°œìì—ê²Œ cluster-admin ê¶Œí•œ ë¶€ì—¬
> - **ì˜êµ¬ ìê²©ì¦ëª…**: Access Keyë¥¼ ë¡œì»¬ì— ì €ì¥
> - **ê¶Œí•œ ê²€í†  ë¶€ì¡±**: ì •ê¸°ì ì¸ ê¶Œí•œ ê°ì‚¬ ë¯¸ì‹¤ì‹œ

---

## 2. ì¿ ë²„ë„¤í‹°ìŠ¤ RBAC: ì„¸ë°€í•œ ê¶Œí•œ ì œì–´

> [!note] í•µì‹¬ ê°œë…
> RBAC(Role-Based Access Control)ëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ ë‚´ë¶€ì—ì„œ "ëˆ„ê°€ ë¬´ì—‡ì„ í•  ìˆ˜ ìˆëŠ”ê°€?"ë¥¼ ì„¸ë°€í•˜ê²Œ ì œì–´í•˜ëŠ” ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ì…ë‹ˆë‹¤.

### ğŸ—ï¸ RBAC êµ¬ì„± ìš”ì†Œ

**ğŸ¤” ì§ˆë¬¸**: "ì‚¬ë¬´ì‹¤ì—ì„œ ê° ë¶€ì„œë§ˆë‹¤ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ê³µê°„ì´ ë‹¤ë¥¸ ê²ƒì²˜ëŸ¼, ì¿ ë²„ë„¤í‹°ìŠ¤ë„ ê·¸ëŸ´ê¹Œ?"

#### ğŸ“‹ RBAC 4ê°€ì§€ í•µì‹¬ ìš”ì†Œ

> [!example] RBAC êµ¬ì„± ìš”ì†Œ
> 1. **Subject (ì£¼ì²´)**: ëˆ„ê°€? â†’ User, Group, ServiceAccount
> 2. **Role/ClusterRole (ì—­í• )**: ë¬´ì—‡ì„? â†’ ê¶Œí•œ ì§‘í•© ì •ì˜
> 3. **RoleBinding/ClusterRoleBinding (ë°”ì¸ë”©)**: ì—°ê²° â†’ ì£¼ì²´ì™€ ì—­í•  ì—°ê²°
> 4. **Resource (ë¦¬ì†ŒìŠ¤)**: ëŒ€ìƒ â†’ Pod, Service, Deployment ë“±

#### ğŸ’» ì‹¤ì œ RBAC ì„¤ì • ì˜ˆì‹œ

```yaml
# ğŸ“Š ê°œë°œíŒ€ìš© Role ìƒì„±
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  namespace: development
  name: developer-role
rules:
- apiGroups: [""]
  resources: ["pods", "services"]
  verbs: ["get", "list", "create", "update", "delete"]
- apiGroups: ["apps"]
  resources: ["deployments"]
  verbs: ["get", "list", "create", "update", "patch"]
---
# ê°œë°œìì—ê²Œ ì—­í•  í• ë‹¹
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: developer-binding
  namespace: development
subjects:
- kind: User
  name: jane.developer
  apiGroup: rbac.authorization.k8s.io
roleRef:
  kind: Role
  name: developer-role
  apiGroup: rbac.authorization.k8s.io
```

#### ğŸ“Š Role vs ClusterRole ë¹„êµ

| êµ¬ë¶„ | Role | ClusterRole |
|------|------|-------------|
| **ë²”ìœ„** | íŠ¹ì • ë„¤ì„ìŠ¤í˜ì´ìŠ¤ | ì „ì²´ í´ëŸ¬ìŠ¤í„° |
| **ë¦¬ì†ŒìŠ¤** | ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ë¦¬ì†ŒìŠ¤ | ëª¨ë“  ë¦¬ì†ŒìŠ¤ + í´ëŸ¬ìŠ¤í„° ë¦¬ì†ŒìŠ¤ |
| **ì‚¬ìš© ì‚¬ë¡€** | íŒ€ë³„ ê°œë°œ í™˜ê²½ | í´ëŸ¬ìŠ¤í„° ê´€ë¦¬ì |
| **ë°”ì¸ë”©** | RoleBinding | ClusterRoleBinding |

#### ğŸ” ê¶Œí•œ í™•ì¸ ë° ë””ë²„ê¹…

```bash
# ğŸ“Š í˜„ì¬ ì‚¬ìš©ì ê¶Œí•œ í™•ì¸
kubectl auth can-i create pods
kubectl auth can-i delete deployments --namespace=production

# íŠ¹ì • ì‚¬ìš©ì ê¶Œí•œ í™•ì¸
kubectl auth can-i create pods --as=jane.developer
kubectl auth can-i "*" "*" --as=system:admin

# ê¶Œí•œ ìƒì„¸ ì¡°íšŒ
kubectl describe clusterrole cluster-admin
kubectl get rolebinding -n development -o wide
```

---

## 3. ì»¨í…ìŠ¤íŠ¸ ì „í™˜: ì™œ í•„ìˆ˜ì ì¸ê°€?

> [!note] í•µì‹¬ ê°œë…
> ì»¨í…ìŠ¤íŠ¸ ì „í™˜ì€ ë‹¤ì¤‘ í´ëŸ¬ìŠ¤í„°, ë‹¤ì¤‘ í™˜ê²½ì—ì„œ ì•ˆì „í•˜ê³  íš¨ìœ¨ì ìœ¼ë¡œ ì‘ì—…í•˜ê¸° ìœ„í•œ í•„ìˆ˜ì ì¸ ë©”ì»¤ë‹ˆì¦˜ì…ë‹ˆë‹¤. ì˜ëª»ëœ í™˜ê²½ì—ì„œì˜ ì‘ì—…ì€ ì¹˜ëª…ì ì¸ ê²°ê³¼ë¥¼ ì´ˆë˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### âš¡ ì»¨í…ìŠ¤íŠ¸ ì „í™˜ì´ í•„ìˆ˜ì ì¸ ì´ìœ 

**ğŸ¤” ì§ˆë¬¸**: "í”„ë¡œë•ì…˜ DBë¥¼ ì‹¤ìˆ˜ë¡œ ì‚­ì œí•œ ì ì´ ìˆë‚˜ìš”?"

#### ğŸ“‹ ì‹¤ì œ ì¥ì•  ì‹œë‚˜ë¦¬ì˜¤

> [!example] ì‹¤ìˆ˜ë¡œ ì¸í•œ í”„ë¡œë•ì…˜ ì¥ì• 
> 1. **ìƒí™©**: ê°œë°œìê°€ ê°œë°œ í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸ ì¤‘
> 2. **ì‹¤ìˆ˜**: ì»¨í…ìŠ¤íŠ¸ í™•ì¸ ì—†ì´ `kubectl delete deployment critical-service` ì‹¤í–‰
> 3. **ê²°ê³¼**: í˜„ì¬ ì»¨í…ìŠ¤íŠ¸ê°€ í”„ë¡œë•ì…˜ì´ì–´ì„œ ì‹¤ì œ ì„œë¹„ìŠ¤ ì¤‘ë‹¨
> 4. **êµí›ˆ**: ì»¨í…ìŠ¤íŠ¸ ì „í™˜ê³¼ í™•ì¸ì˜ ì¤‘ìš”ì„± ì¬ì¸ì‹

#### ğŸ’» ì•ˆì „í•œ ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬

```bash
# ğŸ“Š í˜„ì¬ ì»¨í…ìŠ¤íŠ¸ í™•ì¸ (ë§¤ìš° ì¤‘ìš”!)
kubectl config current-context
# ê²°ê³¼: production-cluster-admin

# ëª¨ë“  ì»¨í…ìŠ¤íŠ¸ ì¡°íšŒ
kubectl config get-contexts
# * production-cluster-admin
#   development-cluster-user
#   staging-cluster-user

# ì•ˆì „í•œ ì»¨í…ìŠ¤íŠ¸ ì „í™˜
kubectl config use-context development-cluster-user
kubectl config current-context  # ì¬í™•ì¸ í•„ìˆ˜!

# íŠ¹ì • ëª…ë ¹ì—ë§Œ ë‹¤ë¥¸ ì»¨í…ìŠ¤íŠ¸ ì‚¬ìš©
kubectl get pods --context=staging-cluster-user
```

#### ğŸ›¡ï¸ ì»¨í…ìŠ¤íŠ¸ ì „í™˜ ë³´ì•ˆ ëª¨ë²” ì‚¬ë¡€

> [!example] ì»¨í…ìŠ¤íŠ¸ ì•ˆì „ ê´€ë¦¬ ë°©ë²•
> 1. **í•­ìƒ í™•ì¸**: ëª…ë ¹ ì‹¤í–‰ ì „ í˜„ì¬ ì»¨í…ìŠ¤íŠ¸ í™•ì¸
> 2. **í™˜ê²½ë³„ ë¶„ë¦¬**: í”„ë¡œë•ì…˜ê³¼ ê°œë°œ í™˜ê²½ ì»¨í…ìŠ¤íŠ¸ ëª…í™•íˆ êµ¬ë¶„
> 3. **ì œí•œëœ ê¶Œí•œ**: í•„ìš”í•œ ìµœì†Œ ê¶Œí•œë§Œ ë¶€ì—¬
> 4. **ìë™í™”**: ìŠ¤í¬ë¦½íŠ¸ë¡œ ì»¨í…ìŠ¤íŠ¸ ì „í™˜ ìë™í™”

#### ğŸ“Š ì»¨í…ìŠ¤íŠ¸ êµ¬ì„± ìš”ì†Œ

| ìš”ì†Œ | ì„¤ëª… | ì˜ˆì‹œ |
|------|------|------|
| **Cluster** | ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„° ì •ë³´ | https://prod-k8s.company.com |
| **User** | ì¸ì¦ ì •ë³´ | jane.developer |
| **Namespace** | ê¸°ë³¸ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ | development |
| **Context** | ìœ„ 3ê°œì˜ ì¡°í•© | dev-jane-context |

#### ğŸ’» ê³ ê¸‰ ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬ ë„êµ¬

```bash
# ğŸ“Š kubectx - ì»¨í…ìŠ¤íŠ¸ ë¹ ë¥¸ ì „í™˜
brew install kubectx
kubectx                    # ì»¨í…ìŠ¤íŠ¸ ëª©ë¡
kubectx development        # ë¹ ë¥¸ ì „í™˜
kubectx -                  # ì´ì „ ì»¨í…ìŠ¤íŠ¸ë¡œ ëŒì•„ê°€ê¸°

# kubens - ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ë¹ ë¥¸ ì „í™˜  
kubens                     # ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ëª©ë¡
kubens production          # ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì „í™˜

# kubeconfig íŒŒì¼ ì§ì ‘ í¸ì§‘
kubectl config view        # í˜„ì¬ ì„¤ì • í™•ì¸
kubectl config set-context my-context \
  --cluster=prod-cluster \
  --user=jane.admin \
  --namespace=default
```

---

## 5. ì‹¤ì œ í´ë¼ìš°ë“œ í™˜ê²½ì—ì„œ ë†“ì¹˜ê¸° ì‰¬ìš´ ì°¨ì´ì ë“¤

> [!note] í•µì‹¬ ê°œë…
> ë¡œì»¬ í™˜ê²½ì—ì„œ ì˜ ë™ì‘í•˜ë˜ ê²ƒë“¤ì´ í´ë¼ìš°ë“œì—ì„œëŠ” ì˜ˆìƒê³¼ ë‹¤ë¥´ê²Œ ë™ì‘í•˜ëŠ” ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤. ì´ëŸ° ì°¨ì´ì ì„ ë¯¸ë¦¬ ì´í•´í•˜ê³  ì¤€ë¹„í•´ì•¼ í•©ë‹ˆë‹¤.

### âš¡ í´ë¼ìš°ë“œ í™˜ê²½ì˜ ìˆ¨ê²¨ì§„ ë³µì¡ì„±

**ğŸ¤” ì§ˆë¬¸**: "ë¡œì»¬ì—ì„œëŠ” ì˜ ë˜ëŠ”ë°, AWS EKSì— ë°°í¬í•˜ë©´ ì™œ ê¶Œí•œ ì˜¤ë¥˜ê°€ ë‚ ê¹Œ?"

#### ğŸ“‹ ì‹¤ì œ í´ë¼ìš°ë“œ ë°°í¬ ì‹œ ë§ˆì£¼ì¹˜ëŠ” ë¬¸ì œë“¤

> [!example] í´ë¼ìš°ë“œ ë°°í¬ ì²«ë‚  ê²ªëŠ” ì¼ë“¤
> 1. **IAM ì—­í•  ë§¤í•‘**: aws-auth ConfigMap ì„¤ì • í•„ìš”
> 2. **ë„¤íŠ¸ì›Œí¬ ì •ì±…**: VPC, ì„œë¸Œë„·, ë³´ì•ˆ ê·¸ë£¹ì˜ ë³µì¡í•¨
> 3. **ì„œë¹„ìŠ¤ ê³„ì • ê¶Œí•œ**: íŒŒë“œê°€ AWS ì„œë¹„ìŠ¤ ì ‘ê·¼ ì‹œ í•„ìš”í•œ IRSA
> 4. **ë¡œë“œë°¸ëŸ°ì„œ ì œí•œ**: ALB ì¸ê·¸ë ˆìŠ¤ ì»¨íŠ¸ë¡¤ëŸ¬ ì„¤ì •ì˜ ë³µì¡ì„±

#### ğŸ’» AWS EKSì˜ í˜„ì‹¤ì ì¸ ê¶Œí•œ ì„¤ì •

```bash
# ğŸ“Š ì‹¤ì œ EKS í´ëŸ¬ìŠ¤í„°ì—ì„œ ê²ªëŠ” ê¶Œí•œ ë¬¸ì œë“¤

# 1. kubectl ëª…ë ¹ì´ ì•ˆ ë˜ëŠ” ì´ìœ 
kubectl get pods
# error: You must be logged in to the server (Unauthorized)

# í•´ê²°: aws-auth ConfigMapì— ì‚¬ìš©ì ì¶”ê°€
kubectl get configmap aws-auth -n kube-system -o yaml
# í˜„ì¬ ì‚¬ìš©ìë¥¼ mapUsersì— ì¶”ê°€í•´ì•¼ í•¨

# 2. íŒŒë“œê°€ AWS ì„œë¹„ìŠ¤ì— ì ‘ê·¼í•˜ì§€ ëª»í•˜ëŠ” ì´ìœ 
kubectl logs my-pod
# error: unable to load AWS credentials

# í•´ê²°: IRSA (IAM Roles for Service Accounts) ì„¤ì •
eksctl create iamserviceaccount \
  --name my-service-account \
  --namespace default \
  --cluster my-cluster \
  --attach-policy-arn arn:aws:iam::aws:policy/S3ReadOnlyAccess \
  --approve
```

#### ğŸ“Š í´ë¼ìš°ë“œë³„ ê¶Œí•œ ë³µì¡ë„ ë¹„êµ

| ìš”ì†Œ | ë¡œì»¬ í™˜ê²½ | AWS EKS | GCP GKE | Azure AKS |
|------|-----------|---------|---------|-----------|
| **ê¸°ë³¸ ì ‘ê·¼** | cluster-admin | IAM ì‚¬ìš©ì ë§¤í•‘ í•„ìš” | Google ê³„ì • ìë™ ì—°ë™ | Azure AD í†µí•© |
| **íŒŒë“œ ê¶Œí•œ** | ì œí•œ ì—†ìŒ | IRSA ì„¤ì • í•„ìš” | Workload Identity | Pod Managed Identity |
| **ë„¤íŠ¸ì›Œí¬** | localhost | VPC ì„¤ì • | VPC ë„¤ì´í‹°ë¸Œ | VNET í†µí•© |
| **ìŠ¤í† ë¦¬ì§€** | hostPath | EBS/EFS | Persistent Disk | Azure Disk |

### ğŸ” í´ë¼ìš°ë“œ í™˜ê²½ ê¶Œí•œ ë””ë²„ê¹… ê°€ì´ë“œ

**ğŸ¤” ì§ˆë¬¸**: "í´ë¼ìš°ë“œì—ì„œ ê¶Œí•œ ì˜¤ë¥˜ê°€ ë‚¬ì„ ë•Œ ì–´ë””ì„œë¶€í„° í™•ì¸í•´ì•¼ í• ê¹Œ?"

#### ğŸ“‹ ë‹¨ê³„ë³„ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ì²´í¬ë¦¬ìŠ¤íŠ¸

> [!example] ê¶Œí•œ ì˜¤ë¥˜ í•´ê²° ìˆœì„œ
> 1. **í´ë¼ìš°ë“œ IAM í™•ì¸**: í´ëŸ¬ìŠ¤í„° ì ‘ê·¼ ê¶Œí•œì´ ìˆëŠ”ê°€?
> 2. **Kubernetes RBAC í™•ì¸**: í´ëŸ¬ìŠ¤í„° ë‚´ë¶€ ê¶Œí•œì´ ìˆëŠ”ê°€?
> 3. **ë„¤íŠ¸ì›Œí¬ í™•ì¸**: VPC/ì„œë¸Œë„· ì„¤ì •ì´ ì˜¬ë°”ë¥¸ê°€?
> 4. **ì„œë¹„ìŠ¤ ê³„ì • í™•ì¸**: íŒŒë“œê°€ í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ì— ì ‘ê·¼ ê°€ëŠ¥í•œê°€?

#### ğŸ’» ì‹¤ì œ ë””ë²„ê¹… ëª…ë ¹ì–´ë“¤

```bash
# ğŸ“Š AWS EKS ê¶Œí•œ ë””ë²„ê¹…
# 1. í˜„ì¬ IAM ì‚¬ìš©ì/ì—­í•  í™•ì¸
aws sts get-caller-identity

# 2. EKS í´ëŸ¬ìŠ¤í„° ì ‘ê·¼ ê¶Œí•œ í™•ì¸
aws eks describe-cluster --name my-cluster

# 3. aws-auth ConfigMap í™•ì¸
kubectl get configmap aws-auth -n kube-system -o yaml

# 4. í˜„ì¬ ì‚¬ìš©ìì˜ K8s ê¶Œí•œ í™•ì¸
kubectl auth can-i "*" "*" --all-namespaces
kubectl auth whoami

# 5. íŠ¹ì • íŒŒë“œì˜ ì„œë¹„ìŠ¤ ê³„ì • í™•ì¸
kubectl get pod my-pod -o jsonpath='{.spec.serviceAccountName}'
kubectl describe serviceaccount my-service-account
```

```bash
# ğŸ“Š GCP GKE ê¶Œí•œ ë””ë²„ê¹…
# 1. í˜„ì¬ ê³„ì • í™•ì¸
gcloud auth list
gcloud config get-value account

# 2. GKE í´ëŸ¬ìŠ¤í„° ê¶Œí•œ í™•ì¸
gcloud container clusters describe my-cluster --zone=us-central1-a

# 3. Workload Identity í™•ì¸ (íŒŒë“œê°€ GCP ì„œë¹„ìŠ¤ ì ‘ê·¼ìš©)
kubectl annotate serviceaccount my-ksa \
  iam.gke.io/gcp-service-account=my-gsa@PROJECT.iam.gserviceaccount.com

# 4. IAM ì •ì±… í™•ì¸
gcloud projects get-iam-policy PROJECT_ID
```

#### âš ï¸ í´ë¼ìš°ë“œë³„ ì£¼ì˜ì‚¬í•­

> [!warning] ìì£¼ ë†“ì¹˜ëŠ” í´ë¼ìš°ë“œ ì„¤ì •ë“¤
> **AWS EKS**:
> - aws-auth ConfigMap ì„¤ì • ëˆ„ë½
> - IRSA (IAM Roles for Service Accounts) ë¯¸ì„¤ì •
> - VPC CNI í”ŒëŸ¬ê·¸ì¸ ê¶Œí•œ ë¶€ì¡±
> 
> **GCP GKE**:
> - Workload Identity ë¯¸í™œì„±í™”
> - GCP API ì„œë¹„ìŠ¤ ë¹„í™œì„±í™”
> - ë„¤íŠ¸ì›Œí¬ ì •ì±… ì¶©ëŒ
> 
> **Azure AKS**:
> - Azure AD Pod Identity ë¯¸ì„¤ì •
> - RBACì™€ Azure AD í†µí•© ë¬¸ì œ
> - Network Security Group ì œí•œ

### ğŸ›¡ï¸ í´ë¼ìš°ë“œ í™˜ê²½ ë³´ì•ˆ ê°•í™” ì „ëµ

#### í”„ë¡œë•ì…˜ê¸‰ ë³´ì•ˆ ì„¤ì •

```bash
# ğŸ“Š AWS EKS ë³´ì•ˆ ê°•í™” ì˜ˆì‹œ
# 1. ìµœì†Œ ê¶Œí•œ ì›ì¹™ ì ìš©
aws iam create-policy --policy-name MinimalEKSAccess --policy-document '{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": [
        "eks:DescribeCluster",
        "eks:ListClusters"
      ],
      "Resource": "arn:aws:eks:*:*:cluster/my-cluster"
    }
  ]
}'

# 2. ë„¤íŠ¸ì›Œí¬ ì •ì±… í™œì„±í™”
kubectl apply -f - <<EOF
apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: deny-all-default
  namespace: default
spec:
  podSelector: {}
  policyTypes:
  - Ingress
  - Egress
EOF

# 3. Pod Security Standards ì ìš©
kubectl label namespace default pod-security.kubernetes.io/enforce=restricted
kubectl label namespace default pod-security.kubernetes.io/audit=restricted
kubectl label namespace default pod-security.kubernetes.io/warn=restricted
```

### ğŸ’¡ í´ë¼ìš°ë“œ í™˜ê²½ í•™ìŠµ ì „ëµ

#### ë¡œì»¬ì—ì„œ í´ë¼ìš°ë“œ ì°¨ì´ì  ë¯¸ë¦¬ ì²´í—˜í•˜ê¸°

```bash
# ğŸ“Š ë¡œì»¬ì—ì„œ í´ë¼ìš°ë“œ í™˜ê²½ ì‹œë®¬ë ˆì´ì…˜
# 1. ì œí•œëœ ServiceAccount ìƒì„± (IAM ì‚¬ìš©ì ì‹œë®¬ë ˆì´ì…˜)
kubectl create serviceaccount cloud-user-sim
kubectl create token cloud-user-sim

# 2. ìµœì†Œ ê¶Œí•œë§Œ ë¶€ì—¬ (ì‹¤ì œ í´ë¼ìš°ë“œì™€ ìœ ì‚¬)
cat <<EOF | kubectl apply -f -
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  name: cloud-user-role
  namespace: default
rules:
- apiGroups: [""]
  resources: ["pods"]
  verbs: ["get", "list"]
- apiGroups: ["apps"]
  resources: ["deployments"]
  verbs: ["get", "list", "watch"]
EOF

# 3. ë„¤íŠ¸ì›Œí¬ ì •ì±…ìœ¼ë¡œ í´ë¼ìš°ë“œ ë„¤íŠ¸ì›Œí¬ ì œí•œ ì‹œë®¬ë ˆì´ì…˜
cat <<EOF | kubectl apply -f -
apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: simulate-cloud-network
  namespace: default
spec:
  podSelector:
    matchLabels:
      app: restricted-app
  policyTypes:
  - Ingress
  - Egress
  ingress:
  - from:
    - podSelector:
        matchLabels:
          app: allowed-app
    ports:
    - protocol: TCP
      port: 8080
EOF
```

> [!note] í•µì‹¬ ê°œë…
> í˜„ëŒ€ ê¸°ì—… í™˜ê²½ì—ì„œëŠ” ê°œë°œ, ìŠ¤í…Œì´ì§•, í”„ë¡œë•ì…˜ ë“± ì—¬ëŸ¬ í´ëŸ¬ìŠ¤í„°ë¥¼ ìš´ì˜í•˜ë©°, ê°ê° ë‹¤ë¥¸ ë³´ì•ˆ ì •ì±…ê³¼ ì ‘ê·¼ ë°©ì‹ì´ í•„ìš”í•©ë‹ˆë‹¤.

### ğŸŒ ë©€í‹° í´ëŸ¬ìŠ¤í„° ì•„í‚¤í…ì²˜

**ğŸ¤” ì§ˆë¬¸**: "NetflixëŠ” ìˆ˜ë°± ê°œì˜ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë¥¼ ì–´ë–»ê²Œ ì•ˆì „í•˜ê²Œ ê´€ë¦¬í• ê¹Œ?"

#### ğŸ“‹ ì—”í„°í”„ë¼ì´ì¦ˆ ë©€í‹° í´ëŸ¬ìŠ¤í„° ì‹œë‚˜ë¦¬ì˜¤

> [!example] ëŒ€ê¸°ì—… ì¿ ë²„ë„¤í‹°ìŠ¤ í™˜ê²½
> 1. **ê°œë°œ í´ëŸ¬ìŠ¤í„°**: ììœ ë¡œìš´ ì‹¤í—˜ í™˜ê²½, ê´€ëŒ€í•œ ê¶Œí•œ
> 2. **ìŠ¤í…Œì´ì§• í´ëŸ¬ìŠ¤í„°**: í”„ë¡œë•ì…˜ ìœ ì‚¬ í™˜ê²½, ì œí•œëœ ê¶Œí•œ
> 3. **í”„ë¡œë•ì…˜ í´ëŸ¬ìŠ¤í„°**: ìµœì†Œ ê¶Œí•œ ì›ì¹™, ì—„ê²©í•œ ë³´ì•ˆ
> 4. **ê´€ë¦¬ í´ëŸ¬ìŠ¤í„°**: ëª¨ë‹ˆí„°ë§, ë¡œê¹… ì „ìš© í´ëŸ¬ìŠ¤í„°

#### ğŸ’» ë©€í‹° í´ëŸ¬ìŠ¤í„° kubeconfig êµ¬ì„±

```bash
# ğŸ“Š ì—¬ëŸ¬ í´ëŸ¬ìŠ¤í„° kubeconfig ì„¤ì •
# ê°œë°œ í´ëŸ¬ìŠ¤í„°
kubectl config set-cluster dev-cluster \
  --server=https://dev-k8s.company.com \
  --certificate-authority=/path/to/dev-ca.crt

# í”„ë¡œë•ì…˜ í´ëŸ¬ìŠ¤í„°  
kubectl config set-cluster prod-cluster \
  --server=https://prod-k8s.company.com \
  --certificate-authority=/path/to/prod-ca.crt

# ì‚¬ìš©ìë³„ ê¶Œí•œ ì„¤ì •
kubectl config set-credentials jane.developer \
  --client-certificate=/path/to/jane-dev.crt \
  --client-key=/path/to/jane-dev.key

kubectl config set-credentials jane.admin \
  --client-certificate=/path/to/jane-prod.crt \
  --client-key=/path/to/jane-prod.key

# ì»¨í…ìŠ¤íŠ¸ ì¡°í•©
kubectl config set-context dev-context \
  --cluster=dev-cluster \
  --user=jane.developer \
  --namespace=development

kubectl config set-context prod-context \
  --cluster=prod-cluster \
  --user=jane.admin \
  --namespace=default
```

#### ğŸ” í™˜ê²½ë³„ ë³´ì•ˆ ì •ì±… ì°¨ì´

```yaml
# ğŸ“Š ê°œë°œ í™˜ê²½ - ê´€ëŒ€í•œ ê¶Œí•œ
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: developers-binding
subjects:
- kind: Group
  name: developers
  apiGroup: rbac.authorization.k8s.io
roleRef:
  kind: ClusterRole
  name: edit  # ëŒ€ë¶€ë¶„ ë¦¬ì†ŒìŠ¤ í¸ì§‘ ê°€ëŠ¥
  apiGroup: rbac.authorization.k8s.io
---
# í”„ë¡œë•ì…˜ í™˜ê²½ - ì œí•œì  ê¶Œí•œ
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: prod-developers-binding
  namespace: application
subjects:
- kind: Group
  name: developers
  apiGroup: rbac.authorization.k8s.io
roleRef:
  kind: Role
  name: prod-read-only  # ì½ê¸° ì „ìš©
  apiGroup: rbac.authorization.k8s.io
```

#### ğŸ“Š í™˜ê²½ë³„ ê¶Œí•œ ë§¤íŠ¸ë¦­ìŠ¤

| í™˜ê²½ | ê°œë°œì ê¶Œí•œ | SRE ê¶Œí•œ | ë³´ì•ˆíŒ€ ê¶Œí•œ |
|------|-------------|----------|-------------|
| **Development** | Full Access | Admin | Audit |
| **Staging** | Limited Write | Admin | Audit + Policy |
| **Production** | Read Only | Limited Admin | Full Control |

---

## ğŸ¯ ì‹¤ì „ ë³´ì•ˆ ì‹œë‚˜ë¦¬ì˜¤

### ğŸš¨ ì¼ë°˜ì ì¸ ë³´ì•ˆ ì‚¬ê³ ì™€ ì˜ˆë°©ë²•

#### ì‹œë‚˜ë¦¬ì˜¤ 1: ê¶Œí•œ ì—ìŠ¤ì»¬ë ˆì´ì…˜ ê³µê²©

```bash
# ğŸ“Š ê³µê²© ì‹œë„ íƒì§€
# ì˜ì‹¬ìŠ¤ëŸ¬ìš´ ê¶Œí•œ ìƒìŠ¹ ì‹œë„
kubectl get clusterrolebindings -o json | \
  jq '.items[] | select(.roleRef.name=="cluster-admin")'

# ServiceAccountì˜ ê³¼ë„í•œ ê¶Œí•œ í™•ì¸
kubectl get clusterrolebindings -o custom-columns=\
  NAME:.metadata.name,ROLE:.roleRef.name,SERVICE_ACCOUNT:.subjects[?(@.kind=="ServiceAccount")].name
```

#### ì‹œë‚˜ë¦¬ì˜¤ 2: ì˜ëª»ëœ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì ‘ê·¼

```bash
# ğŸ“Š ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë³„ ì ‘ê·¼ ê¶Œí•œ ê°ì‚¬
for ns in $(kubectl get ns -o name | cut -d/ -f2); do
  echo "=== Namespace: $ns ==="
  kubectl auth can-i "*" "*" --namespace=$ns --as=jane.developer
done
```

#### ì‹œë‚˜ë¦¬ì˜¤ 3: ì»¨í…ìŠ¤íŠ¸ í˜¼ë™ ë°©ì§€

```bash
# ğŸ“Š í”„ë¡¬í”„íŠ¸ì— í˜„ì¬ ì»¨í…ìŠ¤íŠ¸ í‘œì‹œ
# ~/.bashrc ë˜ëŠ” ~/.zshrcì— ì¶”ê°€
kube_ps1() {
  local context=$(kubectl config current-context 2>/dev/null)
  if [[ -n "$context" ]]; then
    echo "[k8s:$context]"
  fi
}
PS1='$(kube_ps1) \u@\h:\w\$ '

# ìœ„í—˜í•œ í™˜ê²½ì—ì„œ ì¶”ê°€ í™•ì¸ ê°•ì œ
prod_kubectl() {
  local current_context=$(kubectl config current-context)
  if [[ "$current_context" == *"prod"* ]]; then
    echo "âš ï¸  PRODUCTION ENVIRONMENT!"
    echo "Current context: $current_context"
    echo "Command: kubectl $@"
    read -p "Are you sure? (yes/no): " confirm
    if [[ "$confirm" == "yes" ]]; then
      kubectl "$@"
    else
      echo "Command cancelled."
    fi
  else
    kubectl "$@"
  fi
}
alias kubectl=prod_kubectl
```

### ğŸ›¡ï¸ ë³´ì•ˆ ëª¨ë‹ˆí„°ë§ ë° ì•Œë¦¼

```yaml
# ğŸ“Š ê¶Œí•œ ë³€ê²½ ê°ì‹œ (Falco ê·œì¹™)
apiVersion: v1
kind: ConfigMap
metadata:
  name: falco-rbac-rules
data:
  rbac_rules.yaml: |
    - rule: RBAC Permission Changes
      desc: Detect changes to RBAC permissions
      condition: >
        ka and (
          ka.verb in (create, update, patch, delete) and
          ka.target.resource in (clusterroles, roles, clusterrolebindings, rolebindings)
        )
      output: >
        RBAC permission changed (user=%ka.user.name verb=%ka.verb 
        target=%ka.target.resource/%ka.target.name)
      priority: WARNING
      tags: [rbac, security]
```

### ğŸ“‹ ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸

> [!tip] ì¼ì¼ ë³´ì•ˆ ì ê²€ ì‚¬í•­
> 1. **ì»¨í…ìŠ¤íŠ¸ í™•ì¸**: ë§¤ ì‘ì—… ì „ í˜„ì¬ ì»¨í…ìŠ¤íŠ¸ í™•ì¸
> 2. **ìµœì†Œ ê¶Œí•œ ì›ì¹™**: í•„ìš”í•œ ìµœì†Œ ê¶Œí•œë§Œ ë¶€ì—¬
> 3. **ì •ê¸° ê¶Œí•œ ê°ì‚¬**: ì›” 1íšŒ ë¶ˆí•„ìš”í•œ ê¶Œí•œ ì œê±°
> 4. **ë¡œê·¸ ëª¨ë‹ˆí„°ë§**: ê¶Œí•œ ê´€ë ¨ ì´ë²¤íŠ¸ ì‹¤ì‹œê°„ ê°ì‹œ
> 5. **êµìœ¡**: íŒ€ì› ëŒ€ìƒ ë³´ì•ˆ êµìœ¡ ì •ê¸° ì‹¤ì‹œ

### ğŸš€ ìë™í™”ëœ ë³´ì•ˆ ë„êµ¬

```bash
# ğŸ“Š ê¶Œí•œ ê²€ì‚¬ ìë™í™” ìŠ¤í¬ë¦½íŠ¸
#!/bin/bash
# security-audit.sh

echo "ğŸ” Kubernetes Security Audit"
echo "=============================="

echo "ğŸ“Š Cluster Admin Bindings:"
kubectl get clusterrolebindings -o custom-columns=\
  NAME:.metadata.name,SUBJECTS:.subjects[*].name | \
  grep cluster-admin

echo "âš ï¸  Over-privileged ServiceAccounts:"
kubectl get clusterrolebindings -o json | \
  jq -r '.items[] | select(.roleRef.name=="cluster-admin") | 
    select(.subjects[]?.kind=="ServiceAccount") | 
    "\(.metadata.name): \(.subjects[].name)"'

echo "ğŸ” Current Context:"
kubectl config current-context

echo "âœ… Audit Complete"
```

> [!warning] ì¤‘ìš”í•œ ë³´ì•ˆ ì›ì¹™
> 1. **Zero Trust**: ëª¨ë“  ì ‘ê·¼ì„ ê²€ì¦í•˜ê³  ìµœì†Œ ê¶Œí•œ ë¶€ì—¬
> 2. **Defense in Depth**: ë‹¤ì¸µ ë³´ì•ˆ ë°©ì–´ êµ¬ì¡° êµ¬ì¶•  
> 3. **Continuous Monitoring**: ì§€ì†ì ì¸ ë³´ì•ˆ ëª¨ë‹ˆí„°ë§ ë° ê°ì‚¬
> 4. **Incident Response**: ë³´ì•ˆ ì‚¬ê³  ë°œìƒ ì‹œ ì‹ ì†í•œ ëŒ€ì‘ ì²´ê³„